<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bubbleless</title>
    <meta name="description" content="webport">
    <meta name ="author" content="Dilshan Gunasekera">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="sample.js"></script>
    <script src="args_parse.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono|Harmattan" rel="stylesheet">
    <link href='font-awesome-4.7.0/css/font-awesome.min.css' rel='stylesheet'/>

    <style type="text/css">
      html, body {
        margin: 0px;
        top: 0px;
        background-color: #FFFFFF;
        overflow-x: hidden;
        width: 100%;
      }

    </style>
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Menu</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-item nav-link active" href="index.html"><i class="fa fa-home" aria-hidden="true"> Home</i></a>
        </li>
        <li class="nav-item">
          <a class="nav-item nav-link active" href="docs.html"><i class="fa fa-book" aria-hidden="true"> Documentation</i></a>
        </li>
      <li class="nav-item">
          <a class="nav-item nav-link active" href="https://github.com/KGSDilshan/Bubbleless"><i class="fa fa-github" aria-hidden="true"> Source</i></a>
      </li>
        </ul>
      </div>
    </nav>



    <!-- Header -->
    <div class="jumbotron text-center jumbotron-fluid" id="webpage-title" style="padding-bottom: 10px">
      <font style="color: white"><h1><strong>Documentation</strong> <br>
      <small style="color: #FFFFFF;" size="1">Overview of how to use Bubbleless</small>
      </h1></font>
      <div style="text-align: right">
        <font size="4vh" style="color: white">v1.0.0</font>
      </div>
    </div>

<div style="background-color: #EEEEEE;">
<br>
<br>
  <div class="container section-block">
    <br>
    <br>
    <font class="section-heading">Basic Usage</font>
    <hr class="subtle_section">
    <br>

    <div style="opacity: 0.3">
      <center><font face="TimesNewRoman" size="3">Page updated: 2/26/2020 </font></center>
    </div>
    <br>
    <hr class="subtle_section">
    <br>
        <div style="text-align: left;margin-left: 20px">
            <div align="left">
            <button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#partOne" aria-expanded="false" aria-controls="collapseExample" align="left">
                <h3>Setting up the Sheet:</h3>
            </button>
            </div>
            <div class="card card-body collapse" id="partOne">
                <a class="btn btn-primary" href="https://docs.google.com/spreadsheets/d/e/2PACX-1vRsr7Y6X0aBzGTwZPAs1H6XM1r3lQJDzYiYiFvcWLOvf2Zpvon7Ua8JiMTd834h04HhB-XiZDcmxids/pubhtml" role="button">Open Template</a>
                <br>
                <br>
                Bubbleless can do column level replacements and record level deletions given a column of interest.
                <br>
                <br>
                Inorder to work, data is expected to be formatted in this way:
                <br>
                <br>

                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th scope="col" colspan=4>Cell Name</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Find</td>
                      <td>Replacement</td>
                    </tr>
                  </tbody>
                  <thead>
                    <tr>
                      <th scope="col" colspan=4>Cell2 Name</th>
                    </tr>
                    <tbody>
                      <tr>
                        <td>Find</td>
                        <td>Replacement</td>
                      </tr>
                      <tr>
                        <td>Find</td>
                        <td>Replacement</td>
                      </tr>
                    </tbody>
                  </thead>
                </table>
                <br>
                Here is an example with real data:
                <br>
                <br>
                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th scope="col" colspan=4>F</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Landline</td>
                      <td>1</td>
                    </tr>
                    <tr>
                      <td>Cell</td>
                      <td>2</td>
                    </tr>
                  </tbody>
                  <thead>
                    <tr>
                      <th scope="col" colspan=4>AW</th>
                    </tr>
                </thead>
                    <tbody>
                      <tr>
                        <td>18-34</td>
                        <td>1</td>
                      </tr>
                      <tr>
                        <td>35-44</td>
                        <td>2</td>
                      </tr>
                      <tr>
                        <td>45-54</td>
                        <td>3</td>
                      </tr>
                      <tr>
                        <td>55-64</td>
                        <td>4</td>
                      </tr>
                      <tr>
                        <td>65-999</td>
                        <td>5</td>
                      </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th scope="col" colspan=4>DELETE A</th>
                        </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>John</td>
                      </tr>
                      <tr>
                        <td>Emily</td>
                      </tr>
                      <tr>
                        <td>Lucas</td>
                      </tr>
                      <tr>
                        <td>STOP DELETE</td>
                      </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th scope="col" colspan=4>DELETE AZ</th>
                        </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>2</td>
                      </tr>
                      <tr>
                        <td>stop delete</td>
                      </tr>
                    </tbody>
                </table>
                <br>
                <br>
            </div>
            <br>
            <div align="left">
            <button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#partTwo" aria-expanded="false" aria-controls="collapseExample" align="left">
                <h3>Importing your data:</h3>
            </button>
            </div>
            <div class="card card-body collapse" id="partTwo">
                <br>
                I recommend using excel to format/write the Sample operations like so:
                <img src="imgs/excel_img.png" class="img-fluid" alt="excel screenshot">
                <br>
                Copy the contents, once made into the Text input field. Then, when a csv sample is uploaded, you should see a preview of the sample sheet's first 5 elements.
                <br>
                You can use this to verify if your sample was loaded properly and to double check what you paste in the text field, if necessary.
                <img src="imgs/sample_preview.png" class="img-fluid" alt="pasteing">
                <br>
                Next, hit the "Process" button and scroll down to the results section. You'll be able to see some errors/warnings there if any were present.
                <img src="imgs/report1.png" class="img-fluid" alt="read a warning.">
                <br>
                Upon reading the warning, you can click the continue button if everything is intended. This will proceed to create a CSV sheet.
            </div>
            <br>
            <div align="left">
              <button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#quotasPartOne" aria-expanded="false" aria-controls="collapseExample" align="left">
                  <h3>Quotas 1: Survey Level Quota Properties</h3>
              </button>
            </div>
            <div class="card card-body collapse quota_docs" id="quotasPartOne">
              <div>After you process a sample, Bubbleless can take that data and arrange it into quotas for use on LS.<br />If you scroll down through the data visualizations, you'll end up at the Survey Level Quota Properties section.</div>
              <img src="imgs/quota_mode_nsize.PNG" class="img-fluid" alt="The survey level quota properties section with a value of 400-0-600 being entered into the N Sizes field.">
              <div>The N Sizes value is required. This is used to calculate raw n-sizes out of the percentages for the quotas.</div>
              <div><i>If there is only one mode, you only need to enter one number, regardless of mode.</i> For multiple modes, the format is a raw number for each mode separated by a dash: <span class="syntax">Phone-Email-Text</span></div>
              <div>Modes that appear later don't need to be included (e.g. phone and email surveys only need 2 n-sizes). In any other case, irrelevant modes should be 0. The image above describes a project of <u>1000n</u> with a phone mode of n=<u>400</u> and a texting mode of n=<u>600</u>.</div>
              <div class="aside">Note: Keep in mind whether the projects will be on the same link or not. In the above example, if the project were separated into two surveys, the generated csv would be incorrect. You would need to generate two quota files in this case, one for each mode; with corresponding n-sizes.</div>
              <div>Everything else should be set according to the project specifications, usually on Trello.</div>
            </div>
            <br>
            <div align="left">
              <button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#quotasPartTwo" aria-expanded="false" aria-controls="collapseExample" align="left">
                  <h3>Quotas 2: Quota Properties</h3>
              </button>
            </div>
            <div class="card card-body collapse quota_docs" id="quotasPartTwo">
              <div>The next section, Quota Properties, is an overview of the flags that were generated from the sample.</div>
              <img src="imgs/quota_properties_intro.PNG" class="img-fluid" alt="Default quota properties after a sample processing.">
              <div>At this point, every value in the table is either defaulted or pulled from the sample values that were pasted in earlier.</div>
              <div>The first row in each table is the quota name. This is where you will put in most of the commands for the program to read <b>(Flex, splits, mode)</b>.</div>
              <img src="imgs/quota_name_example.PNG" class="img-fluid" alt="A gender quota with commands to split by SplitAB, add 5% flex, and is split by mode.">
              <div>The <i>Custom N-size</i> field is for calculating a quota using a different N-size. These apply individually to the quota it is attached to.</div>
              <div>The following rows represent the actual quotas that are used for fielding and keeping track of completes. The first column is the name of the quota value that is being tracked- this is where you can mark a row as a counter or inactive by adding "<b>(counter)</b>" or "<b>(inactive)</b>" to the name.</div>
              <img src="imgs/subquota_rows.PNG" class="img-fluid" alt="Gender quota values, with M set as a counter quota.">
              <div>Check the quota sheet and make sure the values in the second column match up with the values in the quota sheet. If they don't match, you can change it manually by clicking and typing in the correct value.</div>
              <div>You will want to check that the codes in the fourth column match with your coding as well. The third column is auto-generated based on the name of the quota. This can usually be left alone.</div>
              <div>If there is a <i>redundant or unnecessary</i> quota, you can delete it by clicking the big red "<b>Delete</b>" button located above each quota.</div>
              <div>If there is anything missing, you can add new quotas using the "<b>Create New Quota</b>" button. You'll want to enter the number of quota values for the quota before you click the button. The following setting will add a quota with 7 values in it:</div>
              <img src="imgs/create_new_quota.PNG" class="img-fluid" alt="Create New Quota example, with 7 in the entry field.">
              <div class="aside">Note that you will have to change every value manually when you insert a new quota. In this case, the third column will be a generic value, so you can either:<br />Contact the programming team to get the name of the precode that they created to track this quota<br />OR<br />Add in a question code yourself, by prepending a "p" to the quota name and filling in each cell with it</div>
              <img src="imgs/create_new_quota2.PNG" class="img-fluid" alt="A newly created quota with 7 rows, being filled in with values.">
              <div>When everything is done and the table values are correct, you can save the table for later use by clicking the "<b>Export Quotas</b>" button. This file can be uploaded at a later time using the "<b>Import Quotas</b>" button to retrieve the values you have now, without needing to reupload the sample.</div>
            </div>
            <br>
            <div align="left">
              <button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#quotasPartThree" aria-expanded="false" aria-controls="collapseExample" align="left">
                  <h3>Quotas 3: Quota Processing</h3>
              </button>
            </div>
            <div class="card card-body collapse quota_docs" id="quotasPartThree">
              <div>The next step is processing the quotas. When you click the "<b>Process Quotas</b>" button, Bubbleless will check every quota against client-specific rules.</div>
              <div>You will be alerted to issues that Bubbleless finds and given an option to apply suggested changes.</div>
              <img src="imgs/process_quotas.PNG" class="img-fluid" alt="Alerts after processing the quotas.">
              <div class="aside">Make sure the suggested changes are in line with project requirements. If we have no way of tracking party for example (both in survey and in sample), adding a party quota to the generated file cause an error when uploading to LS.</div>
              <div>When all the checks are done and required changes are applied, clicking "<b>Acknowledge Warnings and Download Quotas</b>" will download a csv file that can be uploaded to LS.</div>

          </div>
        </div>
        <br>
        <br>

    <br>
    <br>
  </div>
  <div style="height: 30px"></div>
  <div class="container section-block">
      <br>
      <br>
      <font class="section-heading">Special Commands/ Functionalities</font>
      <hr class="subtle_section">
      <p>
      <br>
      These are used as a "title" inplace of the typical cellname and produces a custom behaviour. None of these are case or space sensitive.
      <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Label</th>
            <th scope="col">Functionality</th>
            <th scope="col">Example</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Comments</th>
            <th scope="row">//</th>
            <td align="left">If a line starts with double slash (//), then that line is ignored. Use this to give comments bubbless will ignore.</td>
            <td align="left">
                <table class="table">
                    <tr><td colspan="2"><b>// This is for Gender</b></td></tr>
                    <tr><td colspan="2">L</td></tr>
                    <tr><td>M</td><td>1</td></tr>
                    <tr><td>F</td><td>2</td></tr>
                    <tr><td>other</td><td>3</td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Merge Phones</th>
            <th scope="row">MERGEPHONENUM</th>
            <td align="left">Merges two columns with numbers together. The first column is the priority column, if a value exists there, that value is used.
                Blanks and 0 are ignored for this prioritization.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>MERGEPHONENUM</b></td><td>A,B</td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Delete CellName</th>
            <th scope="row">DELETE</th>
            <td align="left">Deletes all records which contain a value in a given column. This command is not case sensitive.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>DELETE A</b></td></tr>
                    <tr><td>John</td></tr>
                    <tr><td>Emily</td></tr>
                    <tr><td>Lucas</td></tr>
                    <tr><td><b>STOP DELETE</b></td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Scrub names</th>
            <th scope="row">NAMESLIST</th>
            <td align="left">Merges Firstname and Lastname column text into one word and compares it to given names list.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>NAMESLIST</b></td><td><b>AX, BY</b></td></tr>
                    <tr><td colspan="2">DonaldTrump</td></tr>
                    <tr><td colspan="2">BarackObama</td></tr>
                    <tr><td colspan="2">GeorgeWBush</td></tr>
                    <tr><td colspan="2"><b>STOP NAMES</b></td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Copy Column</th>
            <th scope="row">COPYCOLUMN</th>
            <td align="left">Copies the contents of a given column.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>COPYCOLUMN</b></td><td><b>AX</b></td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Create Token</th>
            <th scope="row">CREATETOKENS</th>
            <td align="left">Fills the column with randomly generated and encrypted tokens.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>CREATETOKENS</b></td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Evaluate emails</th>
            <th scope="row">EVALEMAILS</th>
            <td align="left">If first column has an email, use that, otherwise pull from second column. Validates the given emails with surface level matching.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>EVALEMAILS</b></td><td>A, B</td></tr>
                </table>
                </td>
          </tr>
          <tr>
            <th scope="row">Graph Column</th>
            <th scope="row">GRAPH</th>
            <td align="left">Without flagging a column, graph it's contents. Giving a sample breakdown and graph to visualize it.</td>
            <td align="left">
                <table class="table">
                    <tr><td><b>GRAPH</b></td><td>y</td><td>ChartName</td></tr>
                </table>
                </td>
          </tr>
          <tr>
              <th scope="row">Integer Ranges</th>
              <th scope="row">X-Y</th>
              <td align="left">Integer Ranges can be given, where the "-" indicates a seperator between the min and the max values (inclusive)</td>
              <td align="left">
                  <table class="table">
                      <tr><td colspan="2">A</td></tr>
                      <tr><td><b>18-34</b></td><td>1</td></tr>
                      <tr><td><b>35-65</b></td><td>2</td></tr>
                      <tr><td><b>65-999999999</b></td><td>3</td></tr>
                  </table>
              </td>
          </tr>
          <tr>
              <th scope="row">Other</th>
              <th scope="row">OTHER</th>
              <td align="left">Anything that hasn't been accounted for is changed to a given value "X".</td>
              <td align="left">
                  <table class="table">
                      <tr><td colspan="2">A</td></tr>
                      <tr><td>18-34</td><td>1</td></tr>
                      <tr><td>35-65</td><td>2</td></tr>
                      <tr><td>65-999999999</td><td>3</td></tr>
                      <tr><td><b>other</td><td>4</b></td></tr>
                  </table>
              </td>
          </tr>
          <tr>
              <th scope="row">Combine REPLACEMENT_VALUE</th>
              <th scope="row">COMBINE</th>
              <td align="left">If Conditions are all TRUE, then the given record will be set to the REPLACEMENT_VALUE for an active column.</td>
              <td align="left">
                  <table class="table">
                      <tr><td colspan="2">X</td></tr>
                      <tr><td colspan="2"><b>Combine 1</b></td></tr>
                      <tr><td>AW</td><td>60-10000</td></tr>
                      <tr><td>P</td><td>2</td></tr>
                      <tr><td>F</td><td>2</td></tr>
                      <tr><td colspan="2"><b>End combine</b></td></tr>
                  </table>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
      <table class="table table-bordered quota_table">
        <thead>
          <tr>
            <th colspan="4" class="table_header">Quota Generator Commands</th>
          </tr>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Syntax</th>
            <th scope="col">Functionality</th>
            <th scope="col">Example</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Splits/Split Quotas</th>
            <th >(<span class="syntax">quota_name</span>)</th>
            <td>Splits the entire quota with the named quota. Can be used multiple times on a single quota.</td>
            <td style="width:max-content">
              <pre>Gender(<i>region</i>)
Region(<i>splitab</i>)(<i>party</i>)</pre>
            </td>
          </tr>
          <tr>
            <th scope="row">Split by Mode</th>
            <th>
              (dual)<br />
              (tri)
            </th>
            <td>
              Marks the entire quota to be split by Mode (Phone, Email, Texting).<br />
              N-sizes must include multiple numbers matching the Mode type (e.g. Dual mode requires 2 n-sizes, tri mode requires 3).<br />
              <i>Note: Mode quotas are implicitly split by mode so this command should not be used for mode.</i>
            </td>
            <td>
              Region(dual)<br />
              Region(tri)
            </td>
          </tr>
          <tr>
            <th scope="row">Flex</th>
            <th>
              (flex <span class="syntax">X%</span>)<br />
              <i>or</i><br />
              (flex <span class="syntax">X</span>)
            </th>
            <td>Adds a flex amount to the entire quota and appends related text to the output. Either a percentage based on total n-size or a flat value.</td>
            <td>
              Gender(flex <i>3%</i>)<br />
              Party(flex <i>20</i>)
            </td>
          </tr>
          <tr>
            <th scope="row">Counters</th>
            <th>
              (counter)
            </th>
            <td>Marks a quota row/value as a counter (set as inactive and a default cap limit).</td>
            <td>
              <table>
                <tr>
                  <th colspan="2">Gender</th>
                </tr>
                <tr>
                  <td>Male(counter)</td>
                  <td>X%</td>
                </tr>
                <tr>
                  <td>Female</td>
                  <td>X%</td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <th scope="row">Inactive</th>
            <th>
              (inactive)
            </th>
            <td>Marks a quota row/value as inactive (does not terminate when quota full).</td>
            <td>
              <table>
                <tr>
                  <th colspan="2">Gender</th>
                </tr>
                <tr>
                  <td>Male</td>
                  <td>X%</td>
                </tr>
                <tr>
                  <td>Female(inactive)</td>
                  <td>X%</td>
                </tr>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <center>
  <br>
  <br>
  </div>
  <div style="height: 30px"></div>

  </body>

  <footer>
    <div id="CR_text">
    <br>
    <br>
    <br>
    Is not a replacement for a shower.
    <br>
    <br>
    <br>
    </div>
  </footer>

</html>
